Script needs to be re-architectured
